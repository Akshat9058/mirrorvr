<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=0.85">
  <title>MirrorVR</title>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/prism.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/themes/prism.min.css" rel="stylesheet" />

  <link rel="stylesheet" href="styles/style.css">
  <link href="https://fonts.googleapis.com/css?family=Josefin+Slab:300|Montserrat:400,600" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
  <!-- Google Analytics -->
    <script>
      (function(i, s, o, g, r, a, m)
      {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function()
        {
          (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
          m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
      ga('create', 'UA-32800241-3', 'alvinwan.com');
      ga('send', 'pageview');
    </script>
</head>
<body>
  <header>
    <a class="back" href="https://alvinwan.com">&larr; alvinwan.com</a>
    <a class="github" href="https://github.com/alvinwan/mirrorvr"><i class="fab fa-github"></i> &rarr;</a>
  </header>
  <div class="title">
    <div class="logo-container">
      <div class="logo">
        <div class="logo-box logo-box1"></div>
        <div class="logo-box logo-box2"></div>
      </div>
    </div>
    <p class="subtitle">WebVR Utility</p>
    <div class="bar-container">
      <span class="bar"></span>
    </div>
    <div class="backdrop">
      <h1>MirrorVR</h1>
    </div>
  </div>
  <div class="wrap-container">
    <div class="wrap">
      <p>To test the demo, just load the following URL on both your <b>phone</b> and your <b>desktop</b>.</p>

      <a href="http://mirrorvr.alvinwan.com/demo">
      <pre><code class="language-html">http://mirrorvr.alvinwan.com/demo</code></pre>
      </a>

      <h2>Getting Started</h2>

      <p>To get started, include these two scripts in your webVR project, <i>after your AFRAME import</i>.</p>

      <pre><code class="language-html">&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"&gt;&lt;/script&gt;
&lt;script src="https://cdn.jsdelivr.net/gh/alvinwan/mirrorvr@0.2.1/dist/mirrorvr.min.js"&gt;&lt;/script&gt;</code></pre>

      <p>Then, add the `camera-listener` and `onload-init-mirror` AFRAME components to your camera, like below:</p>

      <pre><code class="language-html">&lt;a-camera onload-init-mirror camera-listener&gt;&lt;/a-camera&gt;</code></pre>

      <p>That's it! Then, load your project on both your <b>phone</b> and your <b>desktop</b>.</p>

      <h2>Configuration</h2>

      <p>Need to synchronize more than the camera? MirrorVR uses a notification system:</p>
      <ol>
        <li>First, the mobile device sends a notification with information e.g., the current time.</li>
        <li>Second, the desktop receives the notification with information, updating its local data structures and UI accordingly.</li>
      </ol>

      <p>First, pick a name for this update. Here, we will use <i>time</i>. Second, send a notification that state has changed. The first argument is the name you picked, and the second is state information.</p>

      <pre><code class="language-javascript">mirrorVR.notify('time', new Date());</code></pre>

      <p>Third, process the notification. To do so, pass configuration options into <i>mirrorVR.init</i>.</p>

      <pre><code class="language-javascript">mirrorVR.init({
  state: {
    time: {
      onNotify: function(data) {
        console.log('Time is ' + data);
      }
    }
  }
})</code></pre>

      <p>For more information, advanced options, and other configurations, <a href="http://github.com/alvinwan/mirrorvr">see the README</a>.</p>

      <p><b>Pro tip</b>: Have multiple pairs of phones and desktops? Just have each pair load a different anchor. e.g., John and Jane can share example.com#roomA, while Bob and Eve can share example.com#roomB.</p>
      <footer>
        <p>Made by Alvin</p>
      </footer>
    </div>
  </div>
</body>
